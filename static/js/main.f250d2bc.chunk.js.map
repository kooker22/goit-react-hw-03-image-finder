{"version":3,"sources":["ImageGalleryItem/ImageGalleryItem.module.css","Button/Button.module.css","Loader/Loader.module.css","ImageGallery/ImageGallery.module.css","Searchbar/Searchbar.module.css","App.module.css","Searchbar/Searchbar.js","Button/Button.js","Modal/Modal.js","Loader/Loader.js","ImageGalleryItem/ImageGalleryItem.js","ImageGallery/ImageGallery.js","App.js","index.js","Modal/Modal.module.css"],"names":["module","exports","Searchbar","state","text","props","initaialText","handleSubmit","e","preventDefault","onSubmit","setState","handleChange","currentTarget","value","resetForm","className","style","searchbar","this","searchForm","type","searchFormButton","searchFormButtonLabel","searchFormInput","auto-сomplete","auto-focus","placeholder","onChange","Component","defaultProps","Button","onClick","onScroll","button","modalRoot","document","querySelector","Modal","handleKeydown","code","onClose","handleOverlayClickClose","target","window","addEventListener","removeEventListener","createPortal","overlay","modal","children","Spiner","loader","color","height","width","timeout","ImageGalleryItem","sources","map","source","key","id","imageGalleryItem","src","webformatURL","alt","imageGalleryItemImage","ImageGallery","imageGallery","ImageFinder","pictures","initialPictures","page","initialPage","request","initialRequest","modalStatus","initialModalStatus","modalURL","initialModalURL","isLoading","initislIsLoading","baseURL","pagination","toggleModal","showModal","picture","largeImageURL","smoothScroll","scrollTo","top","documentElement","scrollHeight","behavior","addRequest","fetchPictures","setTimeout","axios","get","then","data","prevState","hits","finally","prevProps","length","ReactDOM","render","StrictMode","App","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,sBAAwB,kD,mBCAxGD,EAAOC,QAAU,CAAC,OAAS,yB,mBCA3BD,EAAOC,QAAU,CAAC,OAAS,yB,mBCA3BD,EAAOC,QAAU,CAAC,aAAe,qC,sDCAjCD,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,iBAAmB,oCAAoC,sBAAwB,yCAAyC,gBAAkB,qC,mBCAhPD,EAAOC,QAAU,CAAC,IAAM,mB,oJCGlBC,E,4MAOJC,MAAQ,CACNC,KAAM,EAAKC,MAAMC,c,EAEnBC,aAAe,SAAAC,GACbA,EAAEC,iBACF,EAAKJ,MAAMK,SAAS,EAAKP,MAAMC,MAC/B,EAAKO,SAAS,CAAEP,KAAM,M,EAExBQ,aAAe,SAAAJ,GACb,EAAKG,SAAS,CAAEP,KAAMI,EAAEK,cAAcC,S,EAExCC,UAAY,WACV,EAAKJ,SAAS,CAAEP,KAAM,M,uDAGtB,OACE,4BAAQY,UAAWC,IAAMC,WACvB,0BAAMR,SAAUS,KAAKZ,aAAcS,UAAWC,IAAMG,YAClD,4BAAQC,KAAK,SAASL,UAAWC,IAAMK,kBACrC,0BAAMN,UAAWC,IAAMM,uBAAvB,WAGF,2BACEP,UAAWC,IAAMO,gBACjBH,KAAK,OACLI,qBAAc,MACdC,aAAW,OACXC,YAAY,2BACZC,SAAUT,KAAKP,qB,GAnCHiB,aAAlB3B,EACG4B,aAAe,CACpBxB,aAAc,IAwCHJ,Q,iBCjCA6B,EAXA,SAAC,GAAD,IAAGC,EAAH,EAAGA,QAASC,EAAZ,EAAYA,SAAZ,OACb,4BACEZ,KAAK,SACLL,UAAWC,IAAMiB,OACjBF,QAASA,EACTC,SAAUA,GAET,IANH,c,gBCCIE,EAAYC,SAASC,cAAc,eA8B1BC,E,4MAnBbC,cAAgB,SAAA/B,GACC,WAAXA,EAAEgC,MACJ,EAAKnC,MAAMoC,W,EAGfC,wBAA0B,SAAAlC,GACpBA,EAAEK,gBAAkBL,EAAEmC,QACxB,EAAKtC,MAAMoC,W,kEAdbG,OAAOC,iBAAiB,UAAW1B,KAAKoB,eACxCK,OAAOC,iBAAiB,QAAS1B,KAAKuB,2B,6CAGtCE,OAAOE,oBAAoB,UAAW3B,KAAKoB,eAC3CK,OAAOE,oBAAoB,QAAS3B,KAAKuB,2B,+BAazC,OAAOK,uBACL,yBAAK/B,UAAWC,IAAM+B,QAAShB,QAASb,KAAKuB,yBAC3C,yBAAK1B,UAAWC,IAAMgC,OAAQ9B,KAAKd,MAAM6C,WAE3Cf,O,GAxBcN,a,0CCcLsB,E,uKAbX,OACE,yBAAKnC,UAAWC,IAAMmC,QACpB,kBAAC,IAAD,CACE/B,KAAK,YACLgC,MAAM,UACNC,OAAQ,IACRC,MAAO,IACPC,QAAS,W,GATE3B,a,kCCiBN4B,EAlBU,SAAC,GAAD,IAAGC,EAAH,EAAGA,QAAS1B,EAAZ,EAAYA,QAAZ,OACvB,oCACG0B,EAAQC,KAAI,SAAAC,GAAM,OACjB,wBAAIC,IAAKD,EAAOE,GAAI9C,UAAWC,IAAM8C,kBACnC,yBACE/B,QAASA,EACTgC,IAAKJ,EAAOK,aACZC,IAAI,GACJlD,UAAWC,IAAMkD,8BCJZC,EALM,SAAC,GAAD,IAAGV,EAAH,EAAGA,QAAS1B,EAAZ,EAAYA,QAAZ,OACnB,wBAAIhB,UAAWC,IAAMoD,cACnB,kBAAC,EAAD,CAAkBX,QAASA,EAAS1B,QAASA,M,yBCO3CsC,G,kNAeJnE,MAAQ,CACNoE,SAAU,EAAKlE,MAAMmE,gBACrBC,KAAM,EAAKpE,MAAMqE,YACjBC,QAAS,EAAKtE,MAAMuE,eACpBC,YAAa,EAAKxE,MAAMyE,mBACxBC,SAAU,EAAK1E,MAAM2E,gBACrBC,UAAW,EAAK5E,MAAM6E,kB,EAaxBC,QAAU,4B,EACVtB,IAAM,qC,EACNuB,WAAa,G,EACbC,YAAc,WACZ,EAAK1E,UAAS,kBAAsB,CAClCkE,aADY,EAAGA,iB,EAInBS,UAAY,SAAA9E,GACV,EAAKL,MAAMoE,SAASZ,KAAI,SAAA4B,GAClBA,EAAQtB,eAAiBzD,EAAEK,cAAcmD,KAC3C,EAAKrD,SAAS,CAAEoE,SAAUQ,EAAQC,mBAGtC,EAAKH,e,EAGP5C,QAAU,WACR,EAAK4C,e,EAEPI,aAAe,WACb7C,OAAO8C,SAAS,CACdC,IAAKvD,SAASwD,gBAAgBC,aAC9BC,SAAU,Y,EAIdC,WAAa,SAAA3F,GACX,EAAKO,SAAS,CAAEgE,QAASvE,K,EAG3B4F,cAAgB,WACd,EAAKrF,SAAS,CAAEsE,WAAW,IAC3BgB,YAAW,WACTC,IACGC,IADH,UAEO,EAAKhB,QAFZ,gBAE2B,EAAKtB,IAFhC,cAEyC,EAAK1D,MAAMwE,QAFpD,qBAEwE,EAAKS,WAF7E,iBAEgG,EAAKjF,MAAMsE,OAExG2B,MACC,SAAAC,GAAI,OACF,EAAK1F,UAAS,SAAA2F,GAAS,MAAK,CAC1B/B,SAAS,GAAD,mBAAM+B,EAAU/B,UAAhB,YAA6B8B,EAAKA,KAAKE,OAC/C9B,KAAM6B,EAAU7B,KAAO,QAE3B,EAAKgB,gBAENe,SAAQ,kBAAM,EAAK7F,SAAS,CAAEsE,WAAW,SAC3C,M,iEAzDcwB,EAAWH,GACxBA,EAAU3B,UAAYxD,KAAKhB,MAAMwE,UACnCxD,KAAKR,SAAS,CAAE8D,KAAM,EAAGF,SAAU,KACnCpD,KAAK6E,iBAEHM,EAAU/B,SAASmC,SAAWvF,KAAKhB,MAAMoE,SAASmC,QACpDvF,KAAKsE,iB,+BAsDC,IAAD,EACgDtE,KAAKhB,MAApDoE,EADD,EACCA,SAAUM,EADX,EACWA,YAAaE,EADxB,EACwBA,SAAUE,EADlC,EACkCA,UACzC,OACE,qCACmB,IAAhBJ,GACC,kBAAC,EAAD,CAAOpC,QAAStB,KAAKsB,SACnB,yBAAKuB,IAAKe,EAAUb,IAAI,MAG5B,kBAAC,EAAD,CAAWxD,SAAUS,KAAK4E,aAEzBxB,EAASmC,OAAS,GACjB,kBAAC,EAAD,CAAchD,QAASa,EAAUvC,QAASb,KAAKmE,aAElC,IAAdL,GAAsB,kBAAC,EAAD,MACtBV,EAASmC,OAAS,GACjB,kBAAC,EAAD,CAAQ1E,QAASb,KAAK6E,cAAe/D,SAAUd,KAAKsE,oB,GApGpC5D,cAApByC,EACGxC,aAAe,CACpB0C,gBAAiB,GACjBE,YAAa,EACbE,eAAgB,GAChBE,oBAAoB,EACpBE,gBAAiB,GACjBE,kBAAkB,GAoGPZ,Q,MClHfqC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAACC,EAAD,OAEF1E,SAAS2E,eAAe,U,kBCR1B/G,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,wB","file":"static/js/main.f250d2bc.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__2aR1U\",\"imageGalleryItemImage\":\"ImageGalleryItem_imageGalleryItemImage__2EZ3J\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3GtGa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__5jl4E\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__zWaKp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__1eOfO\",\"searchForm\":\"Searchbar_searchForm__2ENwe\",\"searchFormButton\":\"Searchbar_searchFormButton__h9yKh\",\"searchFormButtonLabel\":\"Searchbar_searchFormButtonLabel__3dp2a\",\"searchFormInput\":\"Searchbar_searchFormInput__Cmt-c\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__3hYzI\"};","import React, { Component } from 'react';\nimport style from './Searchbar.module.css';\nimport PropTypes from 'prop-types';\n\nclass Searchbar extends Component {\n  static defaultProps = {\n    initaialText: '',\n  };\n  static propTypes = {\n    text: PropTypes.string,\n  };\n  state = {\n    text: this.props.initaialText,\n  };\n  handleSubmit = e => {\n    e.preventDefault();\n    this.props.onSubmit(this.state.text);\n    this.setState({ text: '' });\n  };\n  handleChange = e => {\n    this.setState({ text: e.currentTarget.value });\n  };\n  resetForm = () => {\n    this.setState({ text: '' });\n  };\n  render() {\n    return (\n      <header className={style.searchbar}>\n        <form onSubmit={this.handleSubmit} className={style.searchForm}>\n          <button type=\"submit\" className={style.searchFormButton}>\n            <span className={style.searchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={style.searchFormInput}\n            type=\"text\"\n            auto-сomplete=\"off\"\n            auto-focus=\"true\"\n            placeholder=\"Search images and photos\"\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\nexport default Searchbar;\n","import React from 'react';\nimport style from './Button.module.css';\nconst Button = ({ onClick, onScroll }) => (\n  <button\n    type=\"button\"\n    className={style.button}\n    onClick={onClick}\n    onScroll={onScroll}\n  >\n    {' '}\n    Load more\n  </button>\n);\nexport default Button;\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport style from './Modal.module.css';\nimport { node } from 'prop-types';\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeydown);\n    window.addEventListener('click', this.handleOverlayClickClose);\n  }\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeydown);\n    window.removeEventListener('click', this.handleOverlayClickClose);\n  }\n  handleKeydown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n  handleOverlayClickClose = e => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n  render() {\n    return createPortal(\n      <div className={style.overlay} onClick={this.handleOverlayClickClose}>\n        <div className={style.modal}>{this.props.children}</div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\nexport default Modal;\n","import React, { Component } from 'react';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport style from './Loader.module.css';\n\nclass Spiner extends Component {\n  render() {\n    return (\n      <div className={style.loader}>\n        <Loader\n          type=\"ThreeDots\"\n          color=\"#00BFFF\"\n          height={100}\n          width={100}\n          timeout={3000}\n        />\n      </div>\n    );\n  }\n}\nexport default Spiner;\n","import React from 'react';\nimport style from './ImageGalleryItem.module.css';\nimport PropTypes from 'prop-types';\n\nconst ImageGalleryItem = ({ sources, onClick }) => (\n  <>\n    {sources.map(source => (\n      <li key={source.id} className={style.imageGalleryItem}>\n        <img\n          onClick={onClick}\n          src={source.webformatURL}\n          alt=\"\"\n          className={style.imageGalleryItemImage}\n        />\n      </li>\n    ))}\n  </>\n);\nImageGalleryItem.propTypes = {\n  onClick: PropTypes.func.isRequired,\n  sources: PropTypes.arrayOf(PropTypes.object.isRequired),\n};\nexport default ImageGalleryItem;\n","import React from 'react';\nimport style from './ImageGallery.module.css';\nimport ImageGalleryItem from '../ImageGalleryItem';\nconst ImageGallery = ({ sources, onClick }) => (\n  <ul className={style.imageGallery}>\n    <ImageGalleryItem sources={sources} onClick={onClick} />\n  </ul>\n);\nexport default ImageGallery;\n","import React, { Component } from 'react';\nimport Searchbar from './Searchbar';\nimport Button from './Button';\nimport Modal from './Modal';\nimport Spiner from './Loader';\nimport ImageGallery from './ImageGallery/';\nimport PropTypes from 'prop-types';\nimport 'modern-normalize/modern-normalize.css';\n\nimport axios from 'axios';\nimport style from './App.module.css';\n\nclass ImageFinder extends Component {\n  static defaultProps = {\n    initialPictures: [],\n    initialPage: 1,\n    initialRequest: '',\n    initialModalStatus: false,\n    initialModalURL: '',\n    initislIsLoading: false,\n  };\n  static propTypes = {\n    pictures: PropTypes.arrayOf(PropTypes.object.isRequired),\n    page: PropTypes.number,\n    request: PropTypes.string,\n    modalURL: PropTypes.string,\n  };\n  state = {\n    pictures: this.props.initialPictures,\n    page: this.props.initialPage,\n    request: this.props.initialRequest,\n    modalStatus: this.props.initialModalStatus,\n    modalURL: this.props.initialModalURL,\n    isLoading: this.props.initislIsLoading,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.request !== this.state.request) {\n      this.setState({ page: 1, pictures: [] });\n      this.fetchPictures();\n    }\n    if (prevState.pictures.length !== this.state.pictures.length) {\n      this.smoothScroll();\n    }\n  }\n\n  baseURL = 'https://pixabay.com/api/?';\n  key = '16192895-b30e865bfa1f0fc43dcc0dc3e';\n  pagination = 20;\n  toggleModal = () => {\n    this.setState(({ modalStatus }) => ({\n      modalStatus: !modalStatus,\n    }));\n  };\n  showModal = e => {\n    this.state.pictures.map(picture => {\n      if (picture.webformatURL === e.currentTarget.src) {\n        this.setState({ modalURL: picture.largeImageURL });\n      }\n    });\n    this.toggleModal();\n  };\n\n  onClose = () => {\n    this.toggleModal();\n  };\n  smoothScroll = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  addRequest = text => {\n    this.setState({ request: text });\n  };\n\n  fetchPictures = () => {\n    this.setState({ isLoading: true });\n    setTimeout(() => {\n      axios\n        .get(\n          `${this.baseURL}&key=${this.key}&q=${this.state.request}&per_page=${this.pagination}&page=${this.state.page}`,\n        )\n        .then(\n          data =>\n            this.setState(prevState => ({\n              pictures: [...prevState.pictures, ...data.data.hits],\n              page: prevState.page + 1,\n            })),\n          this.smoothScroll(),\n        )\n        .finally(() => this.setState({ isLoading: false }));\n    }, 3000);\n  };\n\n  render() {\n    const { pictures, modalStatus, modalURL, isLoading } = this.state;\n    return (\n      <>\n        {modalStatus === true && (\n          <Modal onClose={this.onClose}>\n            <img src={modalURL} alt=\"\" />\n          </Modal>\n        )}\n        <Searchbar onSubmit={this.addRequest} />\n\n        {pictures.length > 0 && (\n          <ImageGallery sources={pictures} onClick={this.showModal} />\n        )}\n        {isLoading === true && <Spiner />}\n        {pictures.length > 0 && (\n          <Button onClick={this.fetchPictures} onScroll={this.smoothScroll} />\n        )}\n      </>\n    );\n  }\n}\n\nexport default ImageFinder;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport style from './index.module.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__1YxlL\",\"modal\":\"Modal_modal__3Fyyc\"};"],"sourceRoot":""}